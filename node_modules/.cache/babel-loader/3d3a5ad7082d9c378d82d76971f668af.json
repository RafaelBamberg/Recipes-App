{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/sd-013-b-project-recipes-app/src/components/Recipes.jsx\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Recipes extends Component {\n  constructor() {\n    super();\n    this.renderRecipes = this.renderRecipes.bind(this);\n    this.redirectDetails = this.redirectDetails.bind(this);\n  }\n\n  redirectDetails(type, data) {\n    // tentar props dinamica\n    if (type === 'Drink') {\n      const {\n        redirectDetailsDrink\n      } = this.props;\n\n      if (data.length === 1) {\n        return redirectDetailsDrink(data[0].idDrink);\n      }\n    }\n\n    if (type === 'Meal') {\n      const {\n        redirectDetailsFood\n      } = this.props;\n\n      if (data.length === 1 && data[0].idMeal !== '52968') {\n        return redirectDetailsFood(data[0].idMeal);\n      }\n    }\n\n    return undefined;\n  }\n\n  renderRecipes(data, api) {\n    this.redirectDetails(api, data);\n    const limitImgs = 12;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, data.map((curr, index) => {\n      if (index < limitImgs) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          \"data-testid\": `${index}-recipe-card`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: curr[`str${api}Thumb`],\n          \"data-testid\": `${index}-card-img`,\n          width: \"200px\",\n          alt: \"Recipe example\",\n          loading: \"lazy\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          \"data-testid\": `${index}-card-name`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 19\n          }\n        }, curr[`str${api}`]));\n      }\n\n      return null;\n    }));\n  }\n\n  render() {\n    const {\n      type,\n      drinkData,\n      foodData\n    } = this.props;\n\n    if (foodData === null || drinkData === null) {\n      return global.alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, type === 'Bebidas' && drinkData.length ? this.renderRecipes(drinkData, 'Drink') : '', type === 'Comidas' && foodData.length ? this.renderRecipes(foodData, 'Meal') : '');\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  foodData: state.foodData.data,\n  drinkData: state.drinkData.data\n});\n\nexport default connect(mapStateToProps)(Recipes);\nRecipes.propTypes = {\n  type: PropTypes.string.isRequired,\n  drinkData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  redirectDetailsDrink: PropTypes.func.isRequired,\n  redirectDetailsFood: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/home/bamberg/sd-013-b-project-recipes-app/src/components/Recipes.jsx"],"names":["PropTypes","React","Component","connect","Recipes","constructor","renderRecipes","bind","redirectDetails","type","data","redirectDetailsDrink","props","length","idDrink","redirectDetailsFood","idMeal","undefined","api","limitImgs","map","curr","index","render","drinkData","foodData","global","alert","mapStateToProps","state","propTypes","string","isRequired","arrayOf","object","func"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Recipes extends Component {\n  constructor() {\n    super();\n    this.renderRecipes = this.renderRecipes.bind(this);\n    this.redirectDetails = this.redirectDetails.bind(this);\n  }\n\n  redirectDetails(type, data) {\n  // tentar props dinamica\n    if (type === 'Drink') {\n      const { redirectDetailsDrink } = this.props;\n      if (data.length === 1) {\n        return redirectDetailsDrink(data[0].idDrink);\n      }\n    }\n    if (type === 'Meal') {\n      const { redirectDetailsFood } = this.props;\n      if (data.length === 1 && data[0].idMeal !== '52968') {\n        return redirectDetailsFood(data[0].idMeal);\n      }\n    }\n    return undefined;\n  }\n\n  renderRecipes(data, api) {\n    this.redirectDetails(api, data);\n    const limitImgs = 12;\n    return (\n      <section>\n        {\n          data.map((curr, index) => {\n            if (index < limitImgs) {\n              return (\n                <div key={ index } data-testid={ `${index}-recipe-card` }>\n                  <img\n                    src={ curr[`str${api}Thumb`] }\n                    data-testid={ `${index}-card-img` }\n                    width=\"200px\"\n                    alt=\"Recipe example\"\n                    loading=\"lazy\"\n                  />\n                  <span data-testid={ `${index}-card-name` }>{curr[`str${api}`]}</span>\n                </div>\n              );\n            }\n            return null;\n          })\n        }\n      </section>\n    );\n  }\n\n  render() {\n    const { type, drinkData, foodData } = this.props;\n    if (foodData === null || drinkData === null) {\n      return global\n        .alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n\n    return (\n      <div>\n        {type === 'Bebidas' && drinkData.length\n          ? this.renderRecipes(drinkData, 'Drink')\n          : '' }\n        {type === 'Comidas' && foodData.length\n          ? this.renderRecipes(foodData, 'Meal')\n          : '' }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  foodData: state.foodData.data,\n  drinkData: state.drinkData.data,\n});\n\nexport default connect(mapStateToProps)(Recipes);\n\nRecipes.propTypes = {\n  type: PropTypes.string.isRequired,\n  drinkData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  redirectDetailsDrink: PropTypes.func.isRequired,\n  redirectDetailsFood: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}