{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/sd-013-b-project-recipes-app/src/pages/Favorites.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport HeaderExplore from '../components/HeaderExplore';\nimport FavoriteCards from '../components/FavoriteCards';\nexport default function ReceitasFeitas() {\n  const [favorites, setFavorites] = useState([]);\n  const [favoritesFiltered, setFavoritesFiltered] = useState([]);\n  const [canRedirect, setCanRedirect] = useState({\n    redirect: false,\n    to: ''\n  });\n  useEffect(() => {\n    const getFavorites = () => {\n      const favoritesResults = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n      if (favoritesResults !== null) {\n        setFavorites(favoritesResults);\n        setFavoritesFiltered(favoritesResults);\n      }\n    };\n\n    getFavorites();\n  }, []);\n\n  const onFavoriteClick = id => {\n    const newFavorites = favorites.filter(favorite => favorite.id !== id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    setFavorites(newFavorites);\n    const newFilter = favoritesFiltered.filter(favorite => favorite.id !== id);\n    setFavoritesFiltered(newFilter);\n  };\n\n  const onFilterClick = ({\n    target: {\n      name\n    }\n  }) => {\n    if (name === 'all') {\n      setFavoritesFiltered(favorites);\n      return;\n    }\n\n    if (name === 'food') {\n      const newFilter = favorites.filter(favorite => favorite.type === 'comida');\n      setFavoritesFiltered(newFilter);\n      return;\n    }\n\n    const newFilter = favorites.filter(favorite => favorite.type === 'bebida');\n    setFavoritesFiltered(newFilter);\n  };\n\n  const handleRedirect = (id, type) => {\n    let url = `/bebidas/${id}`;\n\n    if (type === 'comida') {\n      url = `/comidas/${id}`;\n      setCanRedirect({\n        redirect: true,\n        to: url\n      });\n      return;\n    }\n\n    setCanRedirect({\n      redirect: true,\n      to: url\n    });\n  };\n\n  if (canRedirect.redirect) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: canRedirect.to,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HeaderExplore, {\n    titlePage: \"Receitas Favoritas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), \"Receitas Favoritas\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"filter-by-all-btn\",\n    type: \"button\",\n    name: \"all\",\n    onClick: onFilterClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"filter-by-food-btn\",\n    type: \"button\",\n    name: \"food\",\n    onClick: onFilterClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Food\"), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"filter-by-drink-btn\",\n    type: \"button\",\n    name: \"drink\",\n    onClick: onFilterClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Drinks\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, favoritesFiltered.map((favorite, index) => /*#__PURE__*/React.createElement(FavoriteCards, {\n    key: favorite.id,\n    recipe: favorite,\n    index: index,\n    onFavoriteClick: onFavoriteClick,\n    handleRedirect: handleRedirect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/home/bamberg/sd-013-b-project-recipes-app/src/pages/Favorites.jsx"],"names":["React","useEffect","useState","Redirect","HeaderExplore","FavoriteCards","ReceitasFeitas","favorites","setFavorites","favoritesFiltered","setFavoritesFiltered","canRedirect","setCanRedirect","redirect","to","getFavorites","favoritesResults","JSON","parse","localStorage","getItem","onFavoriteClick","id","newFavorites","filter","favorite","setItem","stringify","newFilter","onFilterClick","target","name","type","handleRedirect","url","map","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport HeaderExplore from '../components/HeaderExplore';\nimport FavoriteCards from '../components/FavoriteCards';\n\nexport default function ReceitasFeitas() {\n  const [favorites, setFavorites] = useState([]);\n  const [favoritesFiltered, setFavoritesFiltered] = useState([]);\n  const [canRedirect, setCanRedirect] = useState({ redirect: false, to: '' });\n\n  useEffect(() => {\n    const getFavorites = () => {\n      const favoritesResults = JSON.parse(localStorage.getItem('favoriteRecipes'));\n      if (favoritesResults !== null) {\n        setFavorites(favoritesResults);\n        setFavoritesFiltered(favoritesResults);\n      }\n    };\n\n    getFavorites();\n  }, []);\n\n  const onFavoriteClick = (id) => {\n    const newFavorites = favorites.filter((favorite) => favorite.id !== id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(newFavorites));\n    setFavorites(newFavorites);\n\n    const newFilter = favoritesFiltered.filter((favorite) => favorite.id !== id);\n    setFavoritesFiltered(newFilter);\n  };\n\n  const onFilterClick = ({ target: { name } }) => {\n    if (name === 'all') {\n      setFavoritesFiltered(favorites);\n      return;\n    }\n    if (name === 'food') {\n      const newFilter = favorites.filter((favorite) => (\n        favorite.type === 'comida'));\n\n      setFavoritesFiltered(newFilter);\n      return;\n    }\n\n    const newFilter = favorites.filter((favorite) => favorite.type === 'bebida');\n    setFavoritesFiltered(newFilter);\n  };\n\n  const handleRedirect = (id, type) => {\n    let url = `/bebidas/${id}`;\n\n    if (type === 'comida') {\n      url = `/comidas/${id}`;\n      setCanRedirect({ redirect: true, to: url });\n      return;\n    }\n\n    setCanRedirect({ redirect: true, to: url });\n  };\n\n  if (canRedirect.redirect) {\n    return <Redirect to={ canRedirect.to } />;\n  }\n\n  return (\n    <section>\n      <HeaderExplore titlePage=\"Receitas Favoritas\" />\n      Receitas Favoritas\n      <div className=\"filter-section\">\n        <button\n          data-testid=\"filter-by-all-btn\"\n          type=\"button\"\n          name=\"all\"\n          onClick={ onFilterClick }\n        >\n          All\n        </button>\n        <button\n          data-testid=\"filter-by-food-btn\"\n          type=\"button\"\n          name=\"food\"\n          onClick={ onFilterClick }\n        >\n          Food\n        </button>\n        <button\n          data-testid=\"filter-by-drink-btn\"\n          type=\"button\"\n          name=\"drink\"\n          onClick={ onFilterClick }\n        >\n          Drinks\n        </button>\n      </div>\n      <div className=\"favorite-section\">\n        { favoritesFiltered.map((favorite, index) => (\n          <FavoriteCards\n            key={ favorite.id }\n            recipe={ favorite }\n            index={ index }\n            onFavoriteClick={ onFavoriteClick }\n            handleRedirect={ handleRedirect }\n          />\n        )) }\n      </div>\n    </section>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}