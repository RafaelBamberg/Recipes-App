{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/sd-013-b-project-recipes-app/src/components/SearchBar.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchFoodApi as fetchFoodApiAction } from '../redux/actions';\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchInput: '',\n      radioSearch: '',\n      search: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.setSearch = this.setSearch.bind(this);\n  }\n  /* componentDidMount() {\n    const { fetchFoodApi } = this.props;\n    fetchFoodApi('search.php?f=', 'o');\n  } */\n\n\n  componentDidUpdate(props) {\n    const {\n      fetchFoodApi,\n      foodData\n    } = props;\n    const {\n      searchInput,\n      radioSearch,\n      search\n    } = this.state;\n\n    if (radioSearch === 'search.php?f=' && searchInput.length > 1) {\n      global.alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n\n    if (search === true) {\n      fetchFoodApi(radioSearch, searchInput);\n      console.log(foodData);\n      this.setSearch();\n    }\n  }\n\n  handleChange(event) {\n    const theKey = event.target.name;\n    this.setState({\n      [theKey]: event.target.value\n    });\n  }\n\n  setSearch() {\n    this.setState(prevState => ({\n      search: !prevState.search\n    }));\n  }\n\n  render() {\n    const {\n      searchInput\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"search-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      \"data-testid\": \"search-input\",\n      id: \"search-input\",\n      name: \"searchInput\",\n      value: searchInput,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"ingredient-search-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      \"data-testid\": \"ingredient-search-radio\",\n      name: \"radioSearch\",\n      value: \"filter.php?i=\",\n      onClick: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }), \"Ingrediente\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name-search-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      \"data-testid\": \"name-search-radio\",\n      name: \"radioSearch\",\n      value: \"search.php?s=\",\n      onClick: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }), \"Nome\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"first-letter-search-radio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      \"data-testid\": \"first-letter-search-radio\",\n      name: \"radioSearch\",\n      value: \"search.php?f=\",\n      onClick: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }), \"Primeira letra\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"exec-search-btn\",\n      onClick: this.setSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, \"Buscar\"));\n  }\n\n}\n\nSearchBar.propTypes = {\n  fetchFoodApi: PropTypes.func.isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nconst mapStateToProps = ({\n  foodData\n}) => ({\n  foodData: foodData.data\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchFoodApi: (payload1, payload2) => dispatch(fetchFoodApiAction(payload1, payload2))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);","map":{"version":3,"sources":["/home/bamberg/sd-013-b-project-recipes-app/src/components/SearchBar.jsx"],"names":["React","Component","PropTypes","connect","fetchFoodApi","fetchFoodApiAction","SearchBar","constructor","props","state","searchInput","radioSearch","search","handleChange","bind","setSearch","componentDidUpdate","foodData","length","global","alert","console","log","event","theKey","target","name","setState","value","prevState","render","propTypes","func","isRequired","arrayOf","object","mapStateToProps","data","mapDispatchToProps","dispatch","payload1","payload2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchFoodApi as fetchFoodApiAction } from '../redux/actions';\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchInput: '',\n      radioSearch: '',\n      search: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.setSearch = this.setSearch.bind(this);\n  }\n\n  /* componentDidMount() {\n    const { fetchFoodApi } = this.props;\n    fetchFoodApi('search.php?f=', 'o');\n  } */\n\n  componentDidUpdate(props) {\n    const { fetchFoodApi, foodData } = props;\n    const { searchInput, radioSearch, search } = this.state;\n    if (radioSearch === 'search.php?f=' && searchInput.length > 1) {\n      global.alert('Sua busca deve conter somente 1 (um) caracter');\n    }\n    if (search === true) {\n      fetchFoodApi(radioSearch, searchInput);\n      console.log(foodData);\n      this.setSearch();\n    }\n  }\n\n  handleChange(event) {\n    const theKey = event.target.name;\n    this.setState({ [theKey]: event.target.value });\n  }\n\n  setSearch() {\n    this.setState((prevState) => ({\n      search: !prevState.search,\n    }));\n  }\n\n  render() {\n    const { searchInput } = this.state;\n    return (\n      <form>\n        <label htmlFor=\"search-input\">\n          <input\n            type=\"text\"\n            data-testid=\"search-input\"\n            id=\"search-input\"\n            name=\"searchInput\"\n            value={ searchInput }\n            onChange={ this.handleChange }\n          />\n        </label>\n        <label htmlFor=\"ingredient-search-radio\">\n          <input\n            type=\"radio\"\n            data-testid=\"ingredient-search-radio\"\n            name=\"radioSearch\"\n            value=\"filter.php?i=\"\n            onClick={ this.handleChange }\n          />\n          Ingrediente\n        </label>\n        <label htmlFor=\"name-search-radio\">\n          <input\n            type=\"radio\"\n            data-testid=\"name-search-radio\"\n            name=\"radioSearch\"\n            value=\"search.php?s=\"\n            onClick={ this.handleChange }\n          />\n          Nome\n        </label>\n        <label htmlFor=\"first-letter-search-radio\">\n          <input\n            type=\"radio\"\n            data-testid=\"first-letter-search-radio\"\n            name=\"radioSearch\"\n            value=\"search.php?f=\"\n            onClick={ this.handleChange }\n          />\n          Primeira letra\n        </label>\n        <button\n          type=\"button\"\n          data-testid=\"exec-search-btn\"\n          onClick={ this.setSearch }\n        >\n          Buscar\n        </button>\n      </form>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  fetchFoodApi: PropTypes.func.isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nconst mapStateToProps = ({ foodData }) => ({\n  foodData: foodData.data,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchFoodApi: (payload1, payload2) => dispatch(fetchFoodApiAction(payload1, payload2)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);\n"]},"metadata":{},"sourceType":"module"}