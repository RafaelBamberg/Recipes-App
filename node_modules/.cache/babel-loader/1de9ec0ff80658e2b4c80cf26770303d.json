{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/Recipes-App/src/components/Recipes.jsx\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport recipesProvider from '../helper/recipesProvider';\nimport './Recipes.css';\n\nclass Recipes extends Component {\n  constructor() {\n    super();\n    this.renderRecipes = this.renderRecipes.bind(this);\n    this.redirectDetails = this.redirectDetails.bind(this);\n  }\n\n  redirectDetails(type, data) {\n    if (type === 'Drink') {\n      const {\n        redirectDetailsDrink\n      } = this.props;\n\n      if (data.length === 1) {\n        return redirectDetailsDrink(data[0].idDrink);\n      }\n    }\n\n    if (type === 'Meal') {\n      const {\n        redirectDetailsFood\n      } = this.props;\n\n      if (data.length === 1 && data[0].idMeal !== '52968') {\n        return redirectDetailsFood(data[0].idMeal);\n      }\n    }\n\n    return undefined;\n  }\n\n  renderRecipes(data, items) {\n    const {\n      api,\n      page,\n      endpoint,\n      path\n    } = items;\n    this.redirectDetails(api, data);\n    const {\n      type\n    } = this.props;\n    const limitImgs = 12;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"recipes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    }, data.map((curr, index) => {\n      if (index < limitImgs) {\n        const ingredientsURL = `https://www.${endpoint}.com/images/ingredients/`;\n        const key = `str${api}`;\n        const ingredient = curr[key];\n        const src = page !== 'ingredient' ? curr[`str${api}Thumb`] : `${ingredientsURL}${ingredient.split(' ').join(' ')}-Small.png`;\n        const linkTo = page !== 'ingredient' ? `/${type.toLowerCase()}/${curr[`id${api}`]}` : `/${path}`;\n        return /*#__PURE__*/React.createElement(Link, {\n          to: {\n            pathname: linkTo,\n            state: ingredient\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          \"data-testid\": `${index}-${page}-card`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"img\",\n          src: src,\n          \"data-testid\": `${index}-card-img`,\n          width: \"200px\",\n          alt: \"Recipe example\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          \"data-testid\": `${index}-card-name`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }\n        }, curr[`str${api}`])));\n      }\n\n      return null;\n    }));\n  }\n\n  render() {\n    const {\n      type,\n      drinkData,\n      foodData\n    } = this.props;\n    const {\n      data: meals,\n      foodIngredients\n    } = foodData;\n    const {\n      data: drinks,\n      drinksIngredients\n    } = drinkData;\n    const {\n      drinkItems,\n      foodItems,\n      exploreDrinks,\n      exploreFood\n    } = recipesProvider;\n\n    if (meals === null || drinks === null) {\n      return global.alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, type === 'Bebidas' && drinks.length ? this.renderRecipes(drinks, drinkItems) : '', type === 'Comidas' && meals.length ? this.renderRecipes(meals, foodItems) : '', type === 'explore-drinks' && drinksIngredients.length ? this.renderRecipes(drinksIngredients, exploreDrinks) : '', type === 'explore-food' && foodIngredients.length ? this.renderRecipes(foodIngredients, exploreFood) : '');\n  }\n\n}\n\nconst mapStateToProps = ({\n  foodData,\n  drinkData\n}) => ({\n  foodData,\n  drinkData\n});\n\nexport default connect(mapStateToProps)(Recipes);\nRecipes.propTypes = {\n  type: PropTypes.string.isRequired,\n  drinkData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  redirectDetailsDrink: PropTypes.func.isRequired,\n  redirectDetailsFood: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/home/bamberg/Recipes-App/src/components/Recipes.jsx"],"names":["PropTypes","React","Component","connect","Link","recipesProvider","Recipes","constructor","renderRecipes","bind","redirectDetails","type","data","redirectDetailsDrink","props","length","idDrink","redirectDetailsFood","idMeal","undefined","items","api","page","endpoint","path","limitImgs","map","curr","index","ingredientsURL","key","ingredient","src","split","join","linkTo","toLowerCase","pathname","state","render","drinkData","foodData","meals","foodIngredients","drinks","drinksIngredients","drinkItems","foodItems","exploreDrinks","exploreFood","global","alert","mapStateToProps","propTypes","string","isRequired","arrayOf","object","func"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport recipesProvider from '../helper/recipesProvider';\nimport './Recipes.css'\n\nclass Recipes extends Component {\n  constructor() {\n    super();\n    this.renderRecipes = this.renderRecipes.bind(this);\n    this.redirectDetails = this.redirectDetails.bind(this);\n  }\n\n  redirectDetails(type, data) {\n    if (type === 'Drink') {\n      const { redirectDetailsDrink } = this.props;\n      if (data.length === 1) {\n        return redirectDetailsDrink(data[0].idDrink);\n      }\n    }\n    if (type === 'Meal') {\n      const { redirectDetailsFood } = this.props;\n      if (data.length === 1 && data[0].idMeal !== '52968') {\n        return redirectDetailsFood(data[0].idMeal);\n      }\n    }\n    return undefined;\n  }\n\n  renderRecipes(data, items) {\n    const { api, page, endpoint, path } = items;\n    this.redirectDetails(api, data);\n    const { type } = this.props;\n    const limitImgs = 12;\n    return (\n      <section className=\"recipes\">\n        {\n          data.map((curr, index) => {\n            if (index < limitImgs) {\n              const ingredientsURL = `https://www.${endpoint}.com/images/ingredients/`;\n              const key = `str${api}`;\n              const ingredient = curr[key];\n              const src = page !== 'ingredient'\n                ? curr[`str${api}Thumb`]\n                : `${ingredientsURL}${ingredient.split(' ')\n                  .join(' ')}-Small.png`;\n              const linkTo = page !== 'ingredient'\n                ? `/${type.toLowerCase()}/${curr[`id${api}`]}` : `/${path}`;\n              return (\n                <Link to={ { pathname: linkTo, state: ingredient } }>\n                  <div key={ index } data-testid={ `${index}-${page}-card` }>\n                    <img\n                    className=\"img\"\n                      src={ src }\n                      data-testid={ `${index}-card-img` }\n                      width=\"200px\"\n                      alt=\"Recipe example\"\n                    />\n                    <span data-testid={ `${index}-card-name` }>{curr[`str${api}`]}</span>\n                  </div>\n                </Link>\n              );\n            }\n            return null;\n          })\n        }\n      </section>\n    );\n  }\n\n  render() {\n    const { type, drinkData, foodData } = this.props;\n    const { data: meals, foodIngredients } = foodData;\n    const { data: drinks, drinksIngredients } = drinkData;\n    const { drinkItems, foodItems, exploreDrinks, exploreFood } = recipesProvider;\n    if (meals === null || drinks === null) {\n      return global\n        .alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n\n    return (\n      <div>\n        {type === 'Bebidas' && drinks.length\n          ? this.renderRecipes(drinks, drinkItems)\n          : '' }\n        {type === 'Comidas' && meals.length\n          ? this.renderRecipes(meals, foodItems)\n          : '' }\n        {type === 'explore-drinks' && drinksIngredients.length\n          ? this\n            .renderRecipes(drinksIngredients, exploreDrinks)\n          : '' }\n        {type === 'explore-food' && foodIngredients.length\n          ? this.renderRecipes(foodIngredients, exploreFood)\n          : '' }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ foodData, drinkData }) => ({\n  foodData,\n  drinkData,\n});\n\nexport default connect(mapStateToProps)(Recipes);\n\nRecipes.propTypes = {\n  type: PropTypes.string.isRequired,\n  drinkData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  redirectDetailsDrink: PropTypes.func.isRequired,\n  redirectDetailsFood: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}