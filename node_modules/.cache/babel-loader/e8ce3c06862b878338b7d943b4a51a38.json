{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/sd-013-b-project-recipes-app/src/components/Recipes.jsx\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nclass Recipes extends Component {\n  constructor() {\n    super();\n    this.renderRecipes = this.renderRecipes.bind(this);\n    this.redirectDetails = this.redirectDetails.bind(this);\n  }\n\n  redirectDetails(type, data) {\n    if (type === 'Drink') {\n      const {\n        redirectDetailsDrink\n      } = this.props;\n\n      if (data.length === 1) {\n        return redirectDetailsDrink(data[0].idDrink);\n      }\n    }\n\n    if (type === 'Meal') {\n      const {\n        redirectDetailsFood\n      } = this.props;\n\n      if (data.length === 1 && data[0].idMeal !== '52968') {\n        return redirectDetailsFood(data[0].idMeal);\n      }\n    }\n\n    return undefined;\n  }\n\n  renderRecipes(data, api, page, endpoint) {\n    this.redirectDetails(api, data);\n    const {\n      type\n    } = this.props;\n    const limitImgs = 12;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, data.map((curr, index) => {\n      if (index < limitImgs) {\n        const ingredientsURL = `https://www.${endpoint}.com/images/ingredients/`;\n        const key = `str${api}`;\n        const src = page !== 'ingredient' ? curr[`str${api}Thumb`] : `${ingredientsURL}${curr[key].split(' ').join(' ')}-Small.png`;\n        return /*#__PURE__*/React.createElement(Link, {\n          to: `/${type.toLowerCase()}/${curr[`id${api}`]}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          \"data-testid\": `${index}-${page}-card`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: src,\n          \"data-testid\": `${index}-card-img`,\n          width: \"200px\",\n          alt: \"Recipe example\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          \"data-testid\": `${index}-card-name`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }\n        }, curr[`str${api}`])));\n      }\n\n      return null;\n    }));\n  }\n\n  render() {\n    const {\n      type,\n      drinkData,\n      foodData\n    } = this.props;\n    const {\n      data\n    } = foodData;\n    const {\n      data: drinks\n    } = drinkData;\n\n    if (data === null || drinks === null) {\n      return global.alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, type === 'Bebidas' && drinks.length ? this.renderRecipes(drinks, 'Drink', 'recipe') : '', type === 'Comidas' && data.length ? this.renderRecipes(data, 'Meal', 'recipe') : '', type === 'explore-drinks' && drinks.length ? this.renderRecipes(drinks, 'Ingredient1', 'ingredient', 'thecocktaildb') : '', type === 'explore-ingrediente' && data.length ? this.renderRecipes(data, 'Ingredient', 'ingredient', 'themealdb') : '');\n  }\n\n}\n\nconst mapStateToProps = ({\n  foodData,\n  drinkData\n}) => ({\n  foodData,\n  drinkData\n});\n\nexport default connect(mapStateToProps)(Recipes);\nRecipes.propTypes = {\n  type: PropTypes.string.isRequired,\n  drinkData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  redirectDetailsDrink: PropTypes.func.isRequired,\n  redirectDetailsFood: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/home/bamberg/sd-013-b-project-recipes-app/src/components/Recipes.jsx"],"names":["PropTypes","React","Component","connect","Link","Recipes","constructor","renderRecipes","bind","redirectDetails","type","data","redirectDetailsDrink","props","length","idDrink","redirectDetailsFood","idMeal","undefined","api","page","endpoint","limitImgs","map","curr","index","ingredientsURL","key","src","split","join","toLowerCase","render","drinkData","foodData","drinks","global","alert","mapStateToProps","propTypes","string","isRequired","arrayOf","object","func"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nclass Recipes extends Component {\n  constructor() {\n    super();\n    this.renderRecipes = this.renderRecipes.bind(this);\n    this.redirectDetails = this.redirectDetails.bind(this);\n  }\n\n  redirectDetails(type, data) {\n    if (type === 'Drink') {\n      const { redirectDetailsDrink } = this.props;\n      if (data.length === 1) {\n        return redirectDetailsDrink(data[0].idDrink);\n      }\n    }\n    if (type === 'Meal') {\n      const { redirectDetailsFood } = this.props;\n      if (data.length === 1 && data[0].idMeal !== '52968') {\n        return redirectDetailsFood(data[0].idMeal);\n      }\n    }\n    return undefined;\n  }\n\n  renderRecipes(data, api, page, endpoint) {\n    this.redirectDetails(api, data);\n    const { type } = this.props;\n    const limitImgs = 12;\n    return (\n      <section>\n        {\n          data.map((curr, index) => {\n            if (index < limitImgs) {\n              const ingredientsURL = `https://www.${endpoint}.com/images/ingredients/`;\n              const key = `str${api}`;\n              const src = page !== 'ingredient'\n                ? curr[`str${api}Thumb`]\n                : `${ingredientsURL}${curr[key].split(' ')\n                  .join(' ')}-Small.png`;\n              return (\n                <Link to={ `/${type.toLowerCase()}/${curr[`id${api}`]}` }>\n                  <div key={ index } data-testid={ `${index}-${page}-card` }>\n                    <img\n                      src={ src }\n                      data-testid={ `${index}-card-img` }\n                      width=\"200px\"\n                      alt=\"Recipe example\"\n                    />\n                    <span data-testid={ `${index}-card-name` }>{curr[`str${api}`]}</span>\n                  </div>\n                </Link>\n              );\n            }\n            return null;\n          })\n        }\n      </section>\n    );\n  }\n\n  render() {\n    const { type, drinkData, foodData } = this.props;\n    const { data } = foodData;\n    const { data: drinks } = drinkData;\n    if (data === null || drinks === null) {\n      return global\n        .alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n    }\n\n    return (\n      <div>\n        {type === 'Bebidas' && drinks.length\n          ? this.renderRecipes(drinks, 'Drink', 'recipe')\n          : '' }\n        {type === 'Comidas' && data.length\n          ? this.renderRecipes(data, 'Meal', 'recipe')\n          : '' }\n        {type === 'explore-drinks' && drinks.length\n          ? this\n            .renderRecipes(drinks, 'Ingredient1', 'ingredient', 'thecocktaildb')\n          : '' }\n        {type === 'explore-ingrediente' && data.length\n          ? this\n            .renderRecipes(data, 'Ingredient', 'ingredient', 'themealdb')\n          : '' }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ foodData, drinkData }) => ({\n  foodData,\n  drinkData,\n});\n\nexport default connect(mapStateToProps)(Recipes);\n\nRecipes.propTypes = {\n  type: PropTypes.string.isRequired,\n  drinkData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  foodData: PropTypes.arrayOf(PropTypes.object).isRequired,\n  redirectDetailsDrink: PropTypes.func.isRequired,\n  redirectDetailsFood: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}