{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/sd-013-b-project-recipes-app/src/components/CategoriesButton.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getDrinksApi, getFoodApi } from '../services'; // import { fetchDrinkApi, fetchFoodApi } from '../redux/actions';\n\nexport default class CategoriesButton extends Component {\n  constructor() {\n    super();\n    this.state = {\n      response: ''\n    };\n    this.renderButton = this.renderButton.bind(this);\n  }\n\n  async componentDidMount() {\n    const {\n      category\n    } = this.props;\n    this.setResponse(category);\n  }\n\n  async setResponse(category) {\n    const requisition = category === 'meals' ? await getFoodApi('list.php?c=list', '') : await getDrinksApi('list.php?c=list', '');\n    return this.setState({\n      response: requisition[category]\n    });\n  }\n\n  renderButton(response) {\n    const four = 4;\n    return response.map((categ, index) => {\n      if (index <= four) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          \"data-testid\": `${Object.values(categ)[0]}-category-filter`,\n          key: Object.values(categ)[0],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 11\n          }\n        }, Object.values(categ)[0]);\n      }\n\n      return undefined;\n    });\n  }\n\n  render() {\n    const {\n      response\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, response !== '' ? this.renderButton(response) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 59\n      }\n    }, \" Carregando \"), \"Categories\");\n  }\n\n}\nCategoriesButton.propTypes = {\n  category: PropTypes.string.isRequired\n};","map":{"version":3,"sources":["/home/bamberg/sd-013-b-project-recipes-app/src/components/CategoriesButton.jsx"],"names":["React","Component","PropTypes","getDrinksApi","getFoodApi","CategoriesButton","constructor","state","response","renderButton","bind","componentDidMount","category","props","setResponse","requisition","setState","four","map","categ","index","Object","values","undefined","render","propTypes","string","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,aAAzC,C,CACA;;AAEA,eAAe,MAAMC,gBAAN,SAA+BJ,SAA/B,CAAyC;AACtDK,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAED,QAAMC,iBAAN,GAA0B;AACxB,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKC,KAA1B;AACA,SAAKC,WAAL,CAAiBF,QAAjB;AACD;;AAED,QAAME,WAAN,CAAkBF,QAAlB,EAA4B;AAC1B,UAAMG,WAAW,GAAGH,QAAQ,KAAK,OAAb,GAChB,MAAMR,UAAU,CAAC,iBAAD,EAAoB,EAApB,CADA,GAEhB,MAAMD,YAAY,CAAC,iBAAD,EAAoB,EAApB,CAFtB;AAIA,WAAO,KAAKa,QAAL,CAAc;AACnBR,MAAAA,QAAQ,EAAEO,WAAW,CAACH,QAAD;AADF,KAAd,CAAP;AAGD;;AAEDH,EAAAA,YAAY,CAACD,QAAD,EAAW;AACrB,UAAMS,IAAI,GAAG,CAAb;AACA,WAAOT,QAAQ,CAACU,GAAT,CAAa,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACpC,UAAIA,KAAK,IAAIH,IAAb,EAAmB;AACjB,4BACE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,yBAAe,GAAEI,MAAM,CAACC,MAAP,CAAcH,KAAd,EAAqB,CAArB,CAAwB,kBAF3C;AAGE,UAAA,GAAG,EAAGE,MAAM,CAACC,MAAP,CAAcH,KAAd,EAAqB,CAArB,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKGE,MAAM,CAACC,MAAP,CAAcH,KAAd,EAAqB,CAArB,CALH,CADF;AASD;;AACD,aAAOI,SAAP;AACD,KAbM,CAAP;AAcD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEhB,MAAAA;AAAF,QAAe,KAAKD,KAA1B;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIC,QAAQ,KAAK,EAAb,GAAkB,KAAKC,YAAL,CAAkBD,QAAlB,CAAlB,gBAAgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADpD,eADF;AAMD;;AAlDqD;AAqDxDH,gBAAgB,CAACoB,SAAjB,GAA6B;AAC3Bb,EAAAA,QAAQ,EAAEV,SAAS,CAACwB,MAAV,CAAiBC;AADA,CAA7B","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getDrinksApi, getFoodApi } from '../services';\n// import { fetchDrinkApi, fetchFoodApi } from '../redux/actions';\n\nexport default class CategoriesButton extends Component {\n  constructor() {\n    super();\n    this.state = {\n      response: '',\n    };\n    this.renderButton = this.renderButton.bind(this);\n  }\n\n  async componentDidMount() {\n    const { category } = this.props;\n    this.setResponse(category);\n  }\n\n  async setResponse(category) {\n    const requisition = category === 'meals'\n      ? await getFoodApi('list.php?c=list', '')\n      : await getDrinksApi('list.php?c=list', '');\n\n    return this.setState({\n      response: requisition[category],\n    });\n  }\n\n  renderButton(response) {\n    const four = 4;\n    return response.map((categ, index) => {\n      if (index <= four) {\n        return (\n          <button\n            type=\"button\"\n            data-testid={ `${Object.values(categ)[0]}-category-filter` }\n            key={ Object.values(categ)[0] }\n          >\n            {Object.values(categ)[0]}\n          </button>\n        );\n      }\n      return undefined;\n    });\n  }\n\n  render() {\n    const { response } = this.state;\n    return (\n      <div>\n        { response !== '' ? this.renderButton(response) : <span> Carregando </span> }\n        Categories\n      </div>\n    );\n  }\n}\n\nCategoriesButton.propTypes = {\n  category: PropTypes.string.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}